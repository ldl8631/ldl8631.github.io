{"meta":{"title":"DILIANGLI","subtitle":"","description":"","author":"John Doe","url":"http://yoursite.com","root":"/"},"pages":[{"title":"","date":"2019-12-13T18:52:45.788Z","updated":"2019-12-13T18:52:45.788Z","comments":true,"path":"photos/data.json","permalink":"http://yoursite.com/photos/data.json","excerpt":"","text":"{\"list\":[{\"arr\":{\"link\":[\"2017-03-01_三分归晋.jpg\",\"2017-03-01_岁月神偷.jpg\"],\"text\":[\"三分归晋\",\"岁月神偷\"],\"month\":3,\"type\":[\"image\",\"image\"],\"year\":2017},\"date\":\"2017-03\"},{\"arr\":{\"link\":[\"2017-01-01_2017新年 (2).jpg\",\"2017-01-01_2017新年 (3).jpg\",\"2017-01-01_2017新年 (4).jpg\",\"2017-01-01_2017新年.jpg\",\"2017-01-01_黄昏.jpg\"],\"text\":[\"2017新年 (2)\",\"2017新年 (3)\",\"2017新年 (4)\",\"2017新年\",\"黄昏\"],\"month\":1,\"type\":[\"image\",\"image\",\"image\",\"image\",\"image\"],\"year\":2017},\"date\":\"2017-01\"},{\"arr\":{\"link\":[\"2016-11-03_夕阳无限好，只是近黄昏.jpg\"],\"text\":[\"夕阳无限好，只是近黄昏\"],\"month\":11,\"type\":[\"image\"],\"year\":2016},\"date\":\"2016-11\"},{\"arr\":{\"link\":[\"2016-05-01_世博馆.PNG\",\"2016-05-01_卖书啦！.jpg\",\"2016-05-01_我的痕迹.jpg\",\"2016-05-01_漂亮--中国馆.JPG\",\"2016-05-01_漂亮.jpg\",\"2016-05-01_班级聚餐-1.jpg\",\"2016-05-01_班级聚餐-孔明灯-1.jpg\",\"2016-05-01_班级聚餐-孔明灯-2.jpg\",\"2016-05-01_班级露营-1.jpg\",\"2016-05-01_班级露营-2.JPG\",\"2016-05-01_班级露营-烧烤-1.jpg\",\"2016-05-01_看，蛇！.jpg\",\"2016-05-01_随后拍2.jpg\",\"2016-05-10_最后的聚餐看电影回来-2-24晚.jpg\",\"2016-05-10_最后的通宵--还在改论文.jpg\",\"2016-05-10_最后的通宵-ktv.jpg\",\"2016-05-10_最后的通宵-网吧.jpg\",\"2016-05-10_最后的闲逛.jpg\"],\"text\":[\"世博馆\",\"卖书啦！\",\"我的痕迹\",\"漂亮--中国馆\",\"漂亮\",\"班级聚餐-1\",\"班级聚餐-孔明灯-1\",\"班级聚餐-孔明灯-2\",\"班级露营-1\",\"班级露营-2\",\"班级露营-烧烤-1\",\"看，蛇！\",\"随后拍2\",\"最后的聚餐看电影回来-2-24晚\",\"最后的通宵--还在改论文\",\"最后的通宵-ktv\",\"最后的通宵-网吧\",\"最后的闲逛\"],\"month\":5,\"type\":[\"image\",\"image\",\"image\",\"image\",\"image\",\"image\",\"image\",\"image\",\"image\",\"image\",\"image\",\"image\",\"image\",\"image\",\"image\",\"image\",\"image\",\"image\"],\"year\":2016},\"date\":\"2016-05\"},{\"arr\":{\"link\":[\"2016-04-01_毕业生晚会-1.jpg\",\"2016-04-01_毕业生晚会-2.jpg\",\"2016-04-01_毕业生晚会-3.jpg\",\"2016-04-03_最后一次升旗仪式.jpg\"],\"text\":[\"毕业生晚会-1\",\"毕业生晚会-2\",\"毕业生晚会-3\",\"最后一次升旗仪式\"],\"month\":4,\"type\":[\"image\",\"image\",\"image\",\"image\"],\"year\":2016},\"date\":\"2016-04\"},{\"arr\":{\"link\":[\"2015-12-01_beautiful！！.JPG\"],\"text\":[\"beautiful！！\"],\"month\":12,\"type\":[\"image\"],\"year\":2015},\"date\":\"2015-12\"},{\"arr\":{\"link\":[\"2015-10-01_five floor.jpg\",\"2015-10-01_中秋--.jpg\",\"2015-10-01_哈哈.jpg\",\"2015-10-01_哈哈2.jpg\",\"2015-10-01_阳光正好.jpg\",\"2015-10-01_青春放歌.jpg\"],\"text\":[\"five floor\",\"中秋--\",\"哈哈\",\"哈哈2\",\"阳光正好\",\"青春放歌\"],\"month\":10,\"type\":[\"image\",\"image\",\"image\",\"image\",\"image\",\"image\"],\"year\":2015},\"date\":\"2015-10\"},{\"arr\":{\"link\":[\"2015-05-01_体育馆上.JPG\",\"2015-05-01_充实的一天--七夕01.jpg\",\"2015-05-01_再来一次图书馆-1.jpg\",\"2015-05-01_再来一次图书馆-2.jpg\",\"2015-05-01_反正不是我贴的.jpg\",\"2015-05-01_多图.JPG\",\"2015-05-01_天气不错--暑假留校期间.JPG\",\"2015-05-01_学位授予-1.jpg\",\"2015-05-01_宿舍聚餐-1.jpg\",\"2015-05-01_抽奖中的——低调.jpg\",\"2015-05-01_漂酿.jpg\",\"2015-05-01_童年.jpg\",\"2015-05-01_随意拍.jpg\",\"2015-05-01_随手拍3.jpg\"],\"text\":[\"体育馆上\",\"充实的一天--七夕01\",\"再来一次图书馆-1\",\"再来一次图书馆-2\",\"反正不是我贴的\",\"多图\",\"天气不错--暑假留校期间\",\"学位授予-1\",\"宿舍聚餐-1\",\"抽奖中的——低调\",\"漂酿\",\"童年\",\"随意拍\",\"随手拍3\"],\"month\":5,\"type\":[\"image\",\"image\",\"image\",\"image\",\"image\",\"image\",\"image\",\"image\",\"image\",\"image\",\"image\",\"image\",\"image\",\"image\"],\"year\":2015},\"date\":\"2015-05\"}]}"},{"title":"相册","slug":"photos","date":"2019-12-13T18:14:16.571Z","updated":"2019-12-13T18:14:16.571Z","comments":false,"path":"photos/index.html","permalink":"http://yoursite.com/photos/index.html","excerpt":"","text":"Photos 待续 图片正在加载中… (function() { var loadScript = function(path) { var $script = document.createElement('script') document.getElementsByTagName('body')[0].appendChild($script) $script.setAttribute('src', path) } setTimeout(function() { loadScript('./ins.js') }, 0) })()"},{"title":"","date":"2019-12-13T18:07:21.757Z","updated":"2019-12-13T18:07:21.757Z","comments":true,"path":"photos/ins.css","permalink":"http://yoursite.com/photos/ins.css","excerpt":"","text":"#post-instagram{ padding: 30px; } #post-instagram .article-entry{ padding-right: 0; } .instagram{ position: relative; min-height: 500px; } .instagram img { width: 100%; } .instagram .year { font-size: 16px; } .instagram .open-ins{ padding: 10px 0; color: #cdcdcd; } .instagram .open-ins:hover{ color: #657b83; } .instagram .year{ display: inline; } .instagram .thumb { width: 25%; height: 0; padding-bottom: 25%; position: relative; display: inline-block; text-align: center; background: #ededed; outline: 1px solid #ddd; } .instagram .thumb a { position: relative; } .instagram .album h1 em{ font-style: normal; font-size: 14px; margin-left: 10px; } .instagram .album ul{ display: flex; flex-wrap: wrap; clear: both; width: 100%; text-align: left; } .instagram .album li{ list-style: none; display: inline-block; box-sizing: border-box; padding: 0 5px; margin-bottom: -10px; height: 0; width: 25%; position: relative; padding-bottom: 25%; } .instagram .album li:before{ display: none; } .instagram .album div.img-box{ position: absolute; width: 90%; height: 90%; -webkit-box-shadow: 0 1px 0 rgba(255,255,255,0.4), 0 1px 0 1px rgba(255,255,255,0.1); -moz-box-shadow: 0 1px 0 rgba(255,255,255,0.4), 0 1px 0 1px rgba(255,255,255,0.1); box-shadow: 0 1px 0 rgba(255,255,255,0.4), 0 1px 0 1px rgba(255,255,255,0.1); } .instagram .album div.img-box img{ width: 100%; height: 100%; position: absolute; z-index: 2; } .instagram .album div.img-box .img-bg{ position: absolute; top: 0; left: 0; bottom: 0px; width: 100%; margin: -5px; padding: 5px; -webkit-box-shadow: 0 0 0 1px rgba(0,0,0,.04), 0 1px 5px rgba(0,0,0,0.1); -moz-box-shadow: 0 0 0 1px rgba(0,0,0,.04), 0 1px 5px rgba(0,0,0,0.1); box-shadow: 0 0 0 1px rgba(0,0,0,.04), 0 1px 5px rgba(0,0,0,0.1); -webkit-transition: all 0.15s ease-out 0.1s; -moz-transition: all 0.15s ease-out 0.1s; -o-transition: all 0.15s ease-out 0.1s; transition: all 0.15s ease-out 0.1s; opacity: 0.2; cursor: pointer; display: block; z-index: 3; } .instagram .album div.img-box .icon { font-size: 14px; position: absolute; left: 50%; top: 50%; margin-left: -7px; margin-top: -7px; color: #999; z-index: 1; } .instagram .album div.img-box .img-bg:hover{ opacity: 0; } .photos-btn-wrap { border-bottom: 1px solid #e5e5e5; margin-bottom: 20px; } .photos-btn { font-size: 16px; color: #333; margin-bottom: -4px; padding: 5px 8px 3px; } .photos-btn.active { color: #08c; border: 1px solid #e5e5e5; border-bottom: 5px solid #fff; } @media screen and (max-width:600px) { .instagram .thumb { width: 50%; padding-bottom: 50%; } .instagram .album li { width: 100%; position: relative; padding-bottom: 100%; text-align: center; } .instagram .album div.img-box{ margin: 0; width: 90%; height: 90%; } }"},{"title":"","date":"2019-12-13T18:13:14.710Z","updated":"2019-12-13T18:13:14.710Z","comments":true,"path":"photos/lazyload.min.js","permalink":"http://yoursite.com/photos/lazyload.min.js","excerpt":"","text":"/*! * An jQuery | zepto plugin for lazy loading images. * author -> jieyou * see https://github.com/jieyou/lazyload * use some tuupola's code https://github.com/tuupola/jquery_lazyload (BSD) * use component's throttle https://github.com/component/throttle (MIT) */ !function (a) { \"function\" == typeof define && define.amd ? define([\"jquery\"], a) : a(window.jQuery || window.Zepto) }(function (a) { function g() { } function h(a, b) { var e; return e = b._$container == d ? (\"innerHeight\" in c ? c.innerHeight : d.height()) + d.scrollTop() : b._$container.offset().top + b._$container.height(), e = b.offset().left + e.threshold + b.width() } function l(a, b) { var c = 0; a.each(function (d) { function g() { f.trigger(\"_lazyload_appear\"), c = 0 } var f = a.eq(d); if (!(f.width() b.failure_limit) return !1 } else g() }) } function m(a) { return a.filter(function (b) { return !a.eq(b)._lazyload_loadStarted }) } function n(a, b) { function h() { f = 0, g = +new Date, e = a.apply(c, d), c = null, d = null } var c, d, e, f, g = 0; return function () { c = this, d = arguments; var a = new Date - g; return f || (a >= b ? h() : f = setTimeout(h, b - a)), e } } var f, c = window, d = a(c), e = { threshold: 0, failure_limit: 0, event: \"scroll\", effect: \"show\", effect_params: null, container: c, data_attribute: \"original\", data_srcset_attribute: \"original-srcset\", skip_invisible: !0, appear: g, load: g, vertical_only: !1, check_appear_throttle_time: 300, url_rewriter_fn: g, no_fake_img_loader: !1, placeholder_data_img: \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsQAAA7EAZUrDhsAAAANSURBVBhXYzh8+PB/AAffA0nNPuCLAAAAAElFTkSuQmCC\", placeholder_real_img: \"http://ditu.baidu.cn/yyfm/lazyload/0.0.1/img/placeholder.png\" }; f = function () { var a = Object.prototype.toString; return function (b) { return a.call(b).replace(\"[object \", \"\").replace(\"]\", \"\") } }(), a.fn.hasOwnProperty(\"lazyload\") || (a.fn.lazyload = function (b) { var i, j, k, h = this; return a.isPlainObject(b) || (b = {}), a.each(e, function (g, h) { var i = f(b[g]); -1 != a.inArray(g, [\"threshold\", \"failure_limit\", \"check_appear_throttle_time\"]) ? \"String\" == i ? b[g] = parseInt(b[g], 10) : \"Number\" != i && (b[g] = h) : \"container\" == g ? (b._$container = b.hasOwnProperty(g) ? b[g] == c || b[g] == document ? d : a(b[g]) : d, delete b.container) : !e.hasOwnProperty(g) || b.hasOwnProperty(g) && i == f(e[g]) || (b[g] = h) }), i = \"scroll\" == b.event, k = 0 == b.check_appear_throttle_time ? l : n(l, b.check_appear_throttle_time), j = i || \"scrollstart\" == b.event || \"scrollstop\" == b.event, h.each(function (c) { var e = this, f = h.eq(c), i = f.attr(\"src\"), k = f.attr(\"data-\" + b.data_attribute), l = b.url_rewriter_fn == g ? k : b.url_rewriter_fn.call(e, f, k), n = f.attr(\"data-\" + b.data_srcset_attribute), o = f.is(\"img\"); return 1 == f._lazyload_loadStarted || i == l ? (f._lazyload_loadStarted = !0, h = m(h), void 0) : (f._lazyload_loadStarted = !1, o && !i && f.one(\"error\", function () { f.attr(\"src\", b.placeholder_real_img) }).attr(\"src\", b.placeholder_data_img), f.one(\"_lazyload_appear\", function () { function i() { d && f.hide(), o ? (n && f.attr(\"srcset\", n), l && f.attr(\"src\", l)) : f.css(\"background-image\", 'url(\"' + l + '\")'), d && f[b.effect].apply(f, c ? b.effect_params : []), h = m(h) } var d, c = a.isArray(b.effect_params); f._lazyload_loadStarted || (d = \"show\" != b.effect && a.fn[b.effect] && (!b.effect_params || c && 0 == b.effect_params.length), b.appear != g && b.appear.call(e, f, h.length, b), f._lazyload_loadStarted = !0, b.no_fake_img_loader || n ? (b.load != g && f.one(\"load\", function () { b.load.call(e, f, h.length, b) }), i()) : a(\"\").one(\"load\", function () { i(), b.load != g && b.load.call(e, f, h.length, b) }).attr(\"src\", l)) }), j || f.on(b.event, function () { f._lazyload_loadStarted || f.trigger(\"_lazyload_appear\") }), void 0) }), j && b._$container.on(b.event, function () { k(h, b) }), d.on(\"resize load\", function () { k(h, b) }), a(function () { k(h, b) }), this }) });"},{"title":"","date":"2019-12-13T18:19:14.979Z","updated":"2019-12-13T18:19:14.979Z","comments":true,"path":"photos/ins.js","permalink":"http://yoursite.com/photos/ins.js","excerpt":"","text":"/******/ (function (modules) { // webpackBootstrap /******/ // The module cache /******/ var installedModules = {}; /******/ /******/ // The require function /******/ function __webpack_require__(moduleId) { /******/ /******/ // Check if module is in cache /******/ if (installedModules[moduleId]) /******/ return installedModules[moduleId].exports; /******/ /******/ // Create a new module (and put it into the cache) /******/ var module = installedModules[moduleId] = { /******/ exports: {}, /******/ id: moduleId, /******/ loaded: false /******/ }; /******/ /******/ // Execute the module function /******/ modules[moduleId].call(module.exports, module, module.exports, __webpack_require__); /******/ /******/ // Flag the module as loaded /******/ module.loaded = true; /******/ /******/ // Return the exports of the module /******/ return module.exports; /******/ } /******/ /******/ /******/ // expose the modules object (__webpack_modules__) /******/ __webpack_require__.m = modules; /******/ /******/ // expose the module cache /******/ __webpack_require__.c = installedModules; /******/ /******/ // __webpack_public_path__ /******/ __webpack_require__.p = \"/dist/\"; /******/ /******/ // Load entry module and return exports /******/ return __webpack_require__(0); /******/ }) /************************************************************************/ /******/ ([ /* 0 */ /***/ function (module, exports, __webpack_require__) { 'use strict'; __webpack_require__(1); var _view = __webpack_require__(2); var _view2 = _interopRequireDefault(_view); function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; } /** * @name impush-client * @description 这个项目让我发家致富… * @date 2016-12-1 */ var _collection = []; var _count = 0; var searchData; function addMask(elem) { var rect = elem.getBoundingClientRect(); var style = getComputedStyle(elem, null); var mask = document.createElement('i'); mask.className = 'icon-film'; mask.style.color = '#fff'; mask.style.fontSize = '26px'; mask.style.position = 'absolute'; mask.style.right = '10px'; mask.style.bottom = '10px'; mask.style.zIndex = 1; elem.parentNode.appendChild(mask); } var createVideoIncon = function createVideoIncon() { var $videoImg = document.querySelectorAll('.thumb a[data-type=\"video\"]'); for (var i = 0, len = $videoImg.length; i < len; i++) { addMask($videoImg[i]); } }; var render = function render(res) { var ulTmpl = \"\"; for (var j = 0, len2 = res.list.length; j < len2; j++) { var data = res.list[j].arr; var liTmpl = \"\"; for (var i = 0, len = data.link.length; i < len; i++) { var minSrc = 'https://github.com/ldl8631/BackupBlog/tree/master/min_photos/' + data.link[i]; var src = 'https://github.com/ldl8631/BackupBlog/tree/master/photos/' + data.link[i]; var type = data.type[i]; var target = src + (type === 'video' ? '.mp4' : '.jpg'); src += ''; liTmpl += '\\ \\ \\ \\ ' + data.text[i] + '\\ '; } ulTmpl = ulTmpl + '' + data.year + '年' + data.month + '月\\ ' + liTmpl + '\\ '; } document.querySelector('.instagram').innerHTML = '' + ulTmpl + ''; createVideoIncon(); _view2.default.init(); }; var replacer = function replacer(str) { var arr = str.split(\"/\"); return \"/assets/ins/\" + arr[arr.length - 1]; }; var ctrler = function ctrler(data) { var imgObj = {}; for (var i = 0, len = data.length; i < len; i++) { var y = data[i].y; var m = data[i].m; var src = replacer(data[i].src); var text = data[i].text; var key = y + \"\" + ((m + \"\").length == 1 ? \"0\" + m : m); if (imgObj[key]) { imgObj[key].srclist.push(src); imgObj[key].text.push(text); } else { imgObj[key] = { year: y, month: m, srclist: [src], text: [text] }; } } render(imgObj); }; function loadData(success) { if (!searchData) { var xhr = new XMLHttpRequest(); xhr.open('GET', './data.json?t=' + +new Date(), true); xhr.onload = function () { if (this.status >= 200 && this.status < 300) { var res = JSON.parse(this.response); searchData = res; success(searchData); } else { console.error(this.statusText); } }; xhr.onerror = function () { console.error(this.statusText); }; xhr.send(); } else { success(searchData); } } var Ins = { init: function init() { loadData(function (data) { render(data); }); } }; Ins.init(); // export default impush; /***/ }, /* 1 */ /***/ function (module, exports, __webpack_require__) { /* WEBPACK VAR INJECTION */ (function (global) { 'use strict'; var inViewport = __webpack_require__(3); var lazyAttrs = ['data-src']; global.lzld = lazyload(); // Provide libs using getAttribute early to get the good src // and not the fake data-src replaceGetAttribute('Image'); replaceGetAttribute('IFrame'); function registerLazyAttr(attr) { if (indexOf.call(lazyAttrs, attr) === -1) { lazyAttrs.push(attr); } } function lazyload(opts) { opts = merge({ 'offset': 333, 'src': 'data-src', 'container': false }, opts || {}); if (typeof opts.src === 'string') { registerLazyAttr(opts.src); } var elts = []; function show(elt) { var src = findRealSrc(elt); if (src) { elt.src = src; } elt.setAttribute('data-lzled', true); elts[indexOf.call(elts, elt)] = null; } function findRealSrc(elt) { if (typeof opts.src === 'function') { return opts.src(elt); } return elt.getAttribute(opts.src); } function register(elt) { elt.onload = null; elt.removeAttribute('onload'); elt.onerror = null; elt.removeAttribute('onerror'); if (indexOf.call(elts, elt) === -1) { inViewport(elt, opts, show); } } return register; } function replaceGetAttribute(elementName) { var fullname = 'HTML' + elementName + 'Element'; if (fullname in global === false) { return; } var original = global[fullname].prototype.getAttribute; global[fullname].prototype.getAttribute = function (name) { if (name === 'src') { var realSrc; for (var i = 0, max = lazyAttrs.length; i < max; i++) { realSrc = original.call(this, lazyAttrs[i]); if (realSrc) { break; } } return realSrc || original.call(this, name); } // our own lazyloader will go through theses lines // because we use getAttribute(opts.src) return original.call(this, name); }; } function merge(defaults, opts) { for (var name in defaults) { if (opts[name] === undefined) { opts[name] = defaults[name]; } } return opts; } // http://webreflection.blogspot.fr/2011/06/partial-polyfills.html function indexOf(value) { for (var i = this.length; i-- && this[i] !== value;) { } return i; } module.exports = lazyload; // export default impush; /* WEBPACK VAR INJECTION */ }.call(exports, (function () { return this; }()))) /***/ }, /* 2 */ /***/ function (module, exports) { 'use strict'; var initPhotoSwipeFromDOM = function initPhotoSwipeFromDOM(gallerySelector) { // parse slide data (url, title, size ...) from DOM elements // (children of gallerySelector) var parseThumbnailElements = function parseThumbnailElements(el) { el = el.parentNode.parentNode; var thumbElements = el.getElementsByClassName('thumb'), numNodes = thumbElements.length, items = [], figureEl, linkEl, size, type, // video or not target, item; for (var i = 0; i < numNodes; i++) { figureEl = thumbElements[i]; // // include only element nodes if (figureEl.nodeType !== 1) { continue; } linkEl = figureEl.children[0]; // size = linkEl.getAttribute('data-size').split('x'); type = linkEl.getAttribute('data-type'); target = linkEl.getAttribute('data-target'); // create slide object item = { src: linkEl.getAttribute('href'), w: parseInt(size[0], 10), h: parseInt(size[1], 10) }; if (figureEl.children.length > 1) { item.title = figureEl.children[1].innerHTML; } if (linkEl.children.length > 0) { item.msrc = linkEl.children[0].getAttribute('src'); item.type = type; item.target = target; item.html = ''; if (type === 'video') { //item.src = null; } } item.el = figureEl; // save link to element for getThumbBoundsFn items.push(item); } return items; }; // find nearest parent element var closest = function closest(el, fn) { return el && (fn(el) ? el : closest(el.parentNode, fn)); }; // triggers when user clicks on thumbnail var onThumbnailsClick = function onThumbnailsClick(e) { e = e || window.event; e.preventDefault ? e.preventDefault() : e.returnValue = false; var eTarget = e.target || e.srcElement; // find root element of slide var clickedListItem = closest(eTarget, function (el) { return el.tagName && el.tagName.toUpperCase() === 'FIGURE'; }); if (!clickedListItem) { return; } // find index of clicked item by looping through all child nodes // alternatively, you may define index via data- attribute var clickedGallery = clickedListItem.parentNode, // childNodes = clickedListItem.parentNode.childNodes, // numChildNodes = childNodes.length, childNodes = document.getElementsByClassName('thumb'), numChildNodes = childNodes.length, nodeIndex = 0, index; for (var i = 0; i < numChildNodes; i++) { if (childNodes[i].nodeType !== 1) { continue; } if (childNodes[i] === clickedListItem) { index = nodeIndex; break; } nodeIndex++; } if (index >= 0) { // open PhotoSwipe if valid index found openPhotoSwipe(index, clickedGallery); } return false; }; // parse picture index and gallery index from URL (#&pid=1&gid=2) var photoswipeParseHash = function photoswipeParseHash() { var hash = window.location.hash.substring(1), params = {}; if (hash.length < 5) { return params; } var vars = hash.split('&'); for (var i = 0; i < vars.length; i++) { if (!vars[i]) { continue; } var pair = vars[i].split('='); if (pair.length < 2) { continue; } params[pair[0]] = pair[1]; } if (params.gid) { params.gid = parseInt(params.gid, 10); } return params; }; var openPhotoSwipe = function openPhotoSwipe(index, galleryElement, disableAnimation, fromURL) { var pswpElement = document.querySelectorAll('.pswp')[0], gallery, options, items; items = parseThumbnailElements(galleryElement); // define options (if needed) options = { // define gallery index (for URL) galleryUID: galleryElement.getAttribute('data-pswp-uid'), getThumbBoundsFn: function getThumbBoundsFn(index) { // See Options -> getThumbBoundsFn section of documentation for more info var thumbnail = items[index].el.getElementsByTagName('img')[0], // find thumbnail pageYScroll = window.pageYOffset || document.documentElement.scrollTop, rect = thumbnail.getBoundingClientRect(); return { x: rect.left, y: rect.top + pageYScroll, w: rect.width }; } }; // PhotoSwipe opened from URL if (fromURL) { if (options.galleryPIDs) { // parse real index when custom PIDs are used // http://photoswipe.com/documentation/faq.html#custom-pid-in-url for (var j = 0; j < items.length; j++) { if (items[j].pid == index) { options.index = j; break; } } } else { // in URL indexes start from 1 options.index = parseInt(index, 10) - 1; } } else { options.index = parseInt(index, 10); } // exit if index not found if (isNaN(options.index)) { return; } if (disableAnimation) { options.showAnimationDuration = 0; } // Pass data to PhotoSwipe and initialize it gallery = new PhotoSwipe(pswpElement, PhotoSwipeUI_Default, items, options); gallery.init(); var $tempVideo; var stopVideoHandle = function stopVideoHandle() { if ($tempVideo) { $tempVideo.remove(); $tempVideo = null; } }; var changeHandle = function changeHandle() { var item = gallery.currItem; stopVideoHandle(); if (item.type === 'video') { var $ctn = item.container; var style = $ctn.getElementsByClassName('pswp__img')[0].style; var $video = document.createElement('video'); $video.setAttribute('autoplay', 'autoplay'); $video.setAttribute('controls', 'controls'); $video.setAttribute('src', item.target); $video.style.width = style.width; $video.style.height = style.height; $video.style.position = 'absolute'; $video.style.zIndex = 2; $tempVideo = $video; $ctn.appendChild($video); } }; gallery.listen('initialZoomIn', changeHandle); gallery.listen('afterChange', changeHandle); gallery.listen('initialZoomOut', stopVideoHandle); }; // loop through all gallery elements and bind events var galleryElements = document.querySelectorAll(gallerySelector); for (var i = 0, l = galleryElements.length; i < l; i++) { galleryElements[i].setAttribute('data-pswp-uid', i + 1); galleryElements[i].onclick = onThumbnailsClick; } // Parse URL and open gallery if it contains #&pid=3&gid=1 var hashData = photoswipeParseHash(); if (hashData.pid && hashData.gid) { openPhotoSwipe(hashData.pid, galleryElements[hashData.gid - 1], true, true); } }; var Viewer = function () { function init() { initPhotoSwipeFromDOM('.photos'); } return { init: init }; }(); module.exports = Viewer; /***/ }, /* 3 */ /***/ function (module, exports) { /* WEBPACK VAR INJECTION */ (function (global) { module.exports = inViewport; var instances = []; var supportsMutationObserver = typeof global.MutationObserver === 'function'; function inViewport(elt, params, cb) { var opts = { container: global.document.body, offset: 0 }; if (params === undefined || typeof params === 'function') { cb = params; params = {}; } var container = opts.container = params.container || opts.container; var offset = opts.offset = params.offset || opts.offset; for (var i = 0; i < instances.length; i++) { if (instances[i].container === container) { return instances[i].isInViewport(elt, offset, cb); } } return instances[ instances.push(createInViewport(container)) - 1 ].isInViewport(elt, offset, cb); } function addEvent(el, type, fn) { if (el.attachEvent) { el.attachEvent('on' + type, fn); } else { el.addEventListener(type, fn, false); } } function debounce(func, wait, immediate) { var timeout; return function () { var context = this, args = arguments; var callNow = immediate && !timeout; clearTimeout(timeout); timeout = setTimeout(later, wait); if (callNow) func.apply(context, args); function later() { timeout = null; if (!immediate) func.apply(context, args); } }; } // https://github.com/jquery/sizzle/blob/3136f48b90e3edc84cbaaa6f6f7734ef03775a07/sizzle.js#L708 var contains = function () { if (!global.document) { return true; } return global.document.documentElement.compareDocumentPosition ? function (a, b) { return !!(a.compareDocumentPosition(b) & 16); } : global.document.documentElement.contains ? function (a, b) { return a !== b && (a.contains ? a.contains(b) : false); } : function (a, b) { while (b = b.parentNode) { if (b === a) { return true; } } return false; }; } function createInViewport(container) { var watches = createWatches(); var scrollContainer = container === global.document.body ? global : container; var debouncedCheck = debounce(watches.checkAll(watchInViewport), 15); addEvent(scrollContainer, 'scroll', debouncedCheck); if (scrollContainer === global) { addEvent(global, 'resize', debouncedCheck); } if (supportsMutationObserver) { observeDOM(watches, container, debouncedCheck); } // failsafe check, every 200ms we check for visible images // usecase: a hidden parent containing eleements // when the parent becomes visible, we have no event that the children // became visible setInterval(debouncedCheck, 150); function isInViewport(elt, offset, cb) { if (!cb) { return isVisible(elt, offset); } var remote = createRemote(elt, offset, cb); remote.watch(); return remote; } function createRemote(elt, offset, cb) { function watch() { watches.add(elt, offset, cb); } function dispose() { watches.remove(elt); } return { watch: watch, dispose: dispose }; } function watchInViewport(elt, offset, cb) { if (isVisible(elt, offset)) { watches.remove(elt); cb(elt); } } function isVisible(elt, offset) { if (!contains(global.document.documentElement, elt) || !contains(global.document.documentElement, container)) { return false; } // Check if the element is visible // https://github.com/jquery/jquery/blob/740e190223d19a114d5373758127285d14d6b71e/src/css/hiddenVisibleSelectors.js if (!elt.offsetWidth || !elt.offsetHeight) { return false; } var eltRect = elt.getBoundingClientRect(); var viewport = {}; if (container === global.document.body) { viewport = { top: -offset, left: -offset, right: global.document.documentElement.clientWidth + offset, bottom: global.document.documentElement.clientHeight + offset }; } else { var containerRect = container.getBoundingClientRect(); viewport = { top: containerRect.top - offset, left: containerRect.left - offset, right: containerRect.right + offset, bottom: containerRect.bottom + offset }; } // The element must overlap with the visible part of the viewport var visible = ( (eltRect.right > viewport.left) && (eltRect.left < viewport.right) && (eltRect.bottom > viewport.top) && (eltRect.top < viewport.bottom) ); return visible; } return { container: container, isInViewport: isInViewport }; } function createWatches() { var watches = []; function add(elt, offset, cb) { if (!isWatched(elt)) { watches.push([elt, offset, cb]); } } function remove(elt) { var pos = indexOf(elt); if (pos !== -1) { watches.splice(pos, 1); } } function indexOf(elt) { for (var i = watches.length - 1; i >= 0; i--) { if (watches[i][0] === elt) { return i; } } return -1; } function isWatched(elt) { return indexOf(elt) !== -1; } function checkAll(cb) { return function () { for (var i = watches.length - 1; i >= 0; i--) { cb.apply(this, watches[i]); } }; } return { add: add, remove: remove, isWatched: isWatched, checkAll: checkAll }; } function observeDOM(watches, container, cb) { var observer = new MutationObserver(watch); var filter = Array.prototype.filter; var concat = Array.prototype.concat; observer.observe(container, { childList: true, subtree: true, // changes like style/width/height/display will be catched attributes: true }); function watch(mutations) { // some new DOM nodes where previously watched // we should check their positions if (mutations.some(knownNodes) === true) { setTimeout(cb, 0); } } function knownNodes(mutation) { var nodes = concat.call([], Array.prototype.slice.call(mutation.addedNodes), mutation.target ); return filter.call(nodes, watches.isWatched).length > 0; } } /* WEBPACK VAR INJECTION */ }.call(exports, (function () { return this; }()))) /***/ } /******/ ]);"}],"posts":[{"title":"Hello World","slug":"hello-world","date":"2019-11-29T15:40:22.812Z","updated":"2019-11-29T15:40:22.812Z","comments":true,"path":"2019/11/29/hello-world/","link":"","permalink":"http://yoursite.com/2019/11/29/hello-world/","excerpt":"","text":"Welcome to Hexo! This is your very first post. Check documentation for more info. If you get any problems when using Hexo, you can find the answer in troubleshooting or you can ask me on GitHub. Quick StartCreate a new post1$ hexo new \"My New Post\" More info: Writing Run server1$ hexo server More info: Server Generate static files1$ hexo generate More info: Generating Deploy to remote sites1$ hexo deploy More info: Deployment","categories":[],"tags":[]},{"title":"平面设计","slug":"平面设计/VS Code实用技巧.1","date":"2017-04-17T16:00:00.000Z","updated":"2019-11-29T19:59:40.387Z","comments":true,"path":"2017/04/18/平面设计/VS Code实用技巧.1/","link":"","permalink":"http://yoursite.com/2017/04/18/%E5%B9%B3%E9%9D%A2%E8%AE%BE%E8%AE%A1/VS%20Code%E5%AE%9E%E7%94%A8%E6%8A%80%E5%B7%A7.1/","excerpt":"","text":"相关文档 官方文档（英文版）：Documentation for Visual Studio Code 下载安装 https://code.visualstudio.com/Download 简介 VScode是微软推出的一款轻量级的编辑器,采用了和VS相同的UI界面。 左侧布局：是用于展示所要编辑的所有文件和文件夹的文件管理器，依次是资源管理器，搜索，GIT，调试，插件。 右侧布局：是打开文件的编辑区域，最多可同时打开三个编辑区域到侧边。 底栏布局：依次是Git Branch，error&amp;warning，编码格式等。 常用插件 HTML Snippets：超级使用且初级的H5代码片段以及提示 HTML CSS Support: css自动补齐 VScode-icons：美化VSCode的界面，在文件名前面显示小图标，安装后每次打开自动启用。 View InBrowser：默认浏览器查看HTML文件（快捷键Ctrl+F1） markdownlint：Markdown格式提示，可以通过快捷键 (快捷键Ctrl+Shift+V) background：可以让vscode的背景修改为自己喜欢的图，最多3张照片1&#x2F;&#x2F; Plugin background enabled.background 插件是否启用2&quot;background.enabled&quot;: false,34&#x2F;&#x2F; Use default images.使用默认图片5&quot;background.useDefault&quot;: false,67&#x2F;&#x2F; Your custom Images(Max length is 3). 自己定制背景图，最多3个8&quot;background.customImages&quot;: [9 &quot;file:&#x2F;&#x2F;&#x2F;E:&#x2F;wushen.png&quot;,10 &quot;file:&#x2F;&#x2F;&#x2F;E:&#x2F;wushen.png&quot;,11 &quot;file:&#x2F;&#x2F;&#x2F;E:&#x2F;wushen.png&quot;12] 常用快捷键 1.窗口管理 打开一个新窗口 Ctrl+Shift+N 关闭窗口 Ctrl+Shift+W 缩放窗口显示比例 Ctrl++/- 侧边栏显示和隐藏 Ctrl+B 2.文件管理 新建文件 Ctrl+N 保存文件 Ctrl+S 在当前文件内查找 Ctrl+F 在当前文件内替换 Ctrl+H 整个文件夹中查找 Ctrl+Shift+F 切换文档 Ctrl+Tab 向前/向后切换文档 Ctrl+PgUp/PgDn html文件预览，需安装插件：View In Browser 3.分栏管理 文件分栏（最多3个）Ctrl+\\，或者按住Ctrl鼠标点击Explorer里的文件名 分栏切换Ctrl+1 Ctrl+2 Ctrl+3 4.代码格式管理 代码行缩进Ctrl+[， Ctrl+] 折叠打开代码块 Ctrl+Shift+[， Ctrl+Shift+] 代码格式化：Shift+Alt+F 修剪空格Ctrl+Shift+X 在当前行下边插入一行Ctrl+Enter 在当前行上方插入一行Ctrl+Shift+Enter 5.光标相关 移动到行首：Home 移动到行尾：End 移动到文件结尾：Ctrl+End 移动到文件开头：Ctrl+Home 选中当前行Ctrl+i（双击） 选择从光标到行尾Shift+End 选择从行首到光标处Shift+Home 删除光标右侧的所有字Ctrl+Delete 同时选中所有匹配的Ctrl+Shift+L 6.自动保存 文件 -&gt; 自动保存 Ctrl+Shift+P，输入 auto IDE设置1&#x2F;&#x2F; 控制是否显示 minimap(缩略图)2 &quot;editor.minimap.enabled&quot;: true,34&#x2F;&#x2F; 视区宽度自动换行设置。5 &quot;editor.wordWrap&quot;: &quot;on&quot;,67&#x2F;&#x2F; 指定用在工作台中的颜色主题。8 &quot;workbench.colorTheme&quot;: &quot;Monokai&quot;","categories":[{"name":"设计","slug":"设计","permalink":"http://yoursite.com/categories/%E8%AE%BE%E8%AE%A1/"}],"tags":[{"name":"设计","slug":"设计","permalink":"http://yoursite.com/tags/%E8%AE%BE%E8%AE%A1/"}]},{"title":"平面设计","slug":"平面设计/VS Code实用技巧","date":"2017-04-17T16:00:00.000Z","updated":"2019-11-29T19:59:34.620Z","comments":true,"path":"2017/04/18/平面设计/VS Code实用技巧/","link":"","permalink":"http://yoursite.com/2017/04/18/%E5%B9%B3%E9%9D%A2%E8%AE%BE%E8%AE%A1/VS%20Code%E5%AE%9E%E7%94%A8%E6%8A%80%E5%B7%A7/","excerpt":"","text":"相关文档 官方文档（英文版）：Documentation for Visual Studio Code 下载安装 https://code.visualstudio.com/Download 简介 VScode是微软推出的一款轻量级的编辑器,采用了和VS相同的UI界面。 左侧布局：是用于展示所要编辑的所有文件和文件夹的文件管理器，依次是资源管理器，搜索，GIT，调试，插件。 右侧布局：是打开文件的编辑区域，最多可同时打开三个编辑区域到侧边。 底栏布局：依次是Git Branch，error&amp;warning，编码格式等。 常用插件 HTML Snippets：超级使用且初级的H5代码片段以及提示 HTML CSS Support: css自动补齐 VScode-icons：美化VSCode的界面，在文件名前面显示小图标，安装后每次打开自动启用。 View InBrowser：默认浏览器查看HTML文件（快捷键Ctrl+F1） markdownlint：Markdown格式提示，可以通过快捷键 (快捷键Ctrl+Shift+V) background：可以让vscode的背景修改为自己喜欢的图，最多3张照片1&#x2F;&#x2F; Plugin background enabled.background 插件是否启用2&quot;background.enabled&quot;: false,34&#x2F;&#x2F; Use default images.使用默认图片5&quot;background.useDefault&quot;: false,67&#x2F;&#x2F; Your custom Images(Max length is 3). 自己定制背景图，最多3个8&quot;background.customImages&quot;: [9 &quot;file:&#x2F;&#x2F;&#x2F;E:&#x2F;wushen.png&quot;,10 &quot;file:&#x2F;&#x2F;&#x2F;E:&#x2F;wushen.png&quot;,11 &quot;file:&#x2F;&#x2F;&#x2F;E:&#x2F;wushen.png&quot;12] 常用快捷键 1.窗口管理 打开一个新窗口 Ctrl+Shift+N 关闭窗口 Ctrl+Shift+W 缩放窗口显示比例 Ctrl++/- 侧边栏显示和隐藏 Ctrl+B 2.文件管理 新建文件 Ctrl+N 保存文件 Ctrl+S 在当前文件内查找 Ctrl+F 在当前文件内替换 Ctrl+H 整个文件夹中查找 Ctrl+Shift+F 切换文档 Ctrl+Tab 向前/向后切换文档 Ctrl+PgUp/PgDn html文件预览，需安装插件：View In Browser 3.分栏管理 文件分栏（最多3个）Ctrl+\\，或者按住Ctrl鼠标点击Explorer里的文件名 分栏切换Ctrl+1 Ctrl+2 Ctrl+3 4.代码格式管理 代码行缩进Ctrl+[， Ctrl+] 折叠打开代码块 Ctrl+Shift+[， Ctrl+Shift+] 代码格式化：Shift+Alt+F 修剪空格Ctrl+Shift+X 在当前行下边插入一行Ctrl+Enter 在当前行上方插入一行Ctrl+Shift+Enter 5.光标相关 移动到行首：Home 移动到行尾：End 移动到文件结尾：Ctrl+End 移动到文件开头：Ctrl+Home 选中当前行Ctrl+i（双击） 选择从光标到行尾Shift+End 选择从行首到光标处Shift+Home 删除光标右侧的所有字Ctrl+Delete 同时选中所有匹配的Ctrl+Shift+L 6.自动保存 文件 -&gt; 自动保存 Ctrl+Shift+P，输入 auto IDE设置1&#x2F;&#x2F; 控制是否显示 minimap(缩略图)2 &quot;editor.minimap.enabled&quot;: true,34&#x2F;&#x2F; 视区宽度自动换行设置。5 &quot;editor.wordWrap&quot;: &quot;on&quot;,67&#x2F;&#x2F; 指定用在工作台中的颜色主题。8 &quot;workbench.colorTheme&quot;: &quot;Monokai&quot;","categories":[{"name":"设计","slug":"设计","permalink":"http://yoursite.com/categories/%E8%AE%BE%E8%AE%A1/"}],"tags":[{"name":"随笔","slug":"随笔","permalink":"http://yoursite.com/tags/%E9%9A%8F%E7%AC%94/"}]},{"title":"WebStorm操作Git","slug":"平面设计/WebStorm操作Git","date":"2017-01-16T22:08:55.000Z","updated":"2019-11-29T19:59:45.256Z","comments":true,"path":"2017/01/17/平面设计/WebStorm操作Git/","link":"","permalink":"http://yoursite.com/2017/01/17/%E5%B9%B3%E9%9D%A2%E8%AE%BE%E8%AE%A1/WebStorm%E6%93%8D%E4%BD%9CGit/","excerpt":"","text":"前期配置 ① 确定git已经安装后，打开webstorm，在file-settings中直接搜索github，然后输入自己github的账号密码 ② 点击test，出现onnection successful的提示框，说明连接到github账户。 ③ 检查git，打开webstorm，在file-settings中直接搜索git，点击test，出现onnection successful的提示框，说明没有问题 ④ 获取本地的ssh，复制到github账户中的ssh中（实现本地版本库与远程版本库通信） 打开git bash，输入ssh-keygen -t rsa -C “config配置的邮箱”，输入完之后需要按三次回车 打开找到id_rsa的文件，用记事本打开 ⑤ 复制记事本内容，打开github账户，找到settings-ssh and GPGkey，打开之后点击右上角new ssh key，将复制的ssh粘贴即可 具体操作 ① 这里如果你没有登录会提示你登录你的github账号 ② 执行git clone命令，项目目录下不能有重名的，否则不能克隆 ③ 克隆成功之后按一下Test看看是否连接成功 ④ 连接成功后，新增文件，会询问你是否add提交到暂存区 如果选择No，此时文件会显示红色，表示远程仓库中没有 如果选择Yes，此时文件会显示绿色，表示已提交到暂存区 如果不想每次都提示，勾选上记住我的选择 如果勾选之后，又想每次提示 ⑤ 修改任意文件，此时文件变成了蓝色，修改代码位置有蓝色标记，表示修改位置 ⑥ 修改后，提交到历史区 方法一：面板中直接commit提交修改 方法二：直接点击快捷键，message的位置须填写，否则不能上传 ⑦ 提交历史区后，push上传可以选择现有的分支，也可以push到新的分支（有加号标识）","categories":[{"name":"IDE","slug":"IDE","permalink":"http://yoursite.com/categories/IDE/"}],"tags":[{"name":"IDE","slug":"IDE","permalink":"http://yoursite.com/tags/IDE/"}]}]}